<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jasa Suruhan & Antar Jemput</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
  body {
    margin: 0;
    background-color: #f1fdf2;
    font-family: 'Poppins', sans-serif;
  }

  /* HEADER & BANNER */
  .app-header {
    background: linear-gradient(90deg, #2ecc71, #f39c12);
    color: white;
    text-align: center;
    padding: 12px 0;
    font-weight: 600;
    font-size: 18px;
  }

  .banner {
    margin: 10px;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 3px 6px rgba(0,0,0,0.15);
  }
  .banner img {
    width: 100%;
    height: 170px;
    object-fit: cover;
  }

  /* MENU GRID */
  .menu-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
    padding: 15px;
  }

  .menu-card {
    background: white;
    border-radius: 20px;
    text-align: center;
    padding: 15px 10px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    transition: all 0.2s ease;
  }

  .menu-card:hover {
    transform: scale(1.05);
  }

  .menu-card img {
    width: 70px;
    height: 70px;
    object-fit: contain;
    margin-bottom: 8px;
  }

  .menu-card span {
    font-weight: 600;
    color: #333;
    font-size: 14px;
  }

  /* POPUP FORM */
  .modal-content {
    border-radius: 20px;
  }

  #map {
    width: 100%;
    height: 180px;
    border-radius: 10px;
    margin-top: 8px;
  }

  .btn-order {
    width: 100%;
    background-color: #2ecc71;
    color: white;
    font-weight: 600;
    border: none;
  }
</style>
</head>
<body>

<div class="app-header">Jasa Suruhan & Antar Jemput</div>

<div class="banner">
  <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhRChNVFEnMamg4xeg_J9Fkr_3I93wxxk4o6XlG1z8FMwSPS0mlpsb2yPdXa3zdSM5edvwKiUfp36e8LbDary6mH6uUOTVCSsaT5beEW9Qly3xn7CIaToNsZa63wsUHP5q9hjmrG-QhLHN066qercKNZu2ATqe__2R87rdTm4EiWR19DcsFuIddMjyY0bI/s1536/IMG_20251005_083246.png" alt="Banner">
</div>

<!-- MENU GRID -->
<div class="menu-grid">
  <div class="menu-card" onclick="bukaForm('Antar Jemput')">
    <img src="https://cdn-icons-png.flaticon.com/512/3565/3565418.png" alt="Antar Jemput">
    <span>Antar Jemput</span>
  </div>

  <div class="menu-card" onclick="bukaForm('Kirim Paket')">
    <img src="https://cdn-icons-png.flaticon.com/512/743/743007.png" alt="Kirim Paket">
    <span>Kirim Paket</span>
  </div>

  <div class="menu-card" onclick="bukaForm('Bersih Rumah')">
    <img src="https://cdn-icons-png.flaticon.com/512/2922/2922726.png" alt="Bersih Rumah">
    <span>Bersih Rumah</span>
  </div>

  <div class="menu-card" onclick="bukaForm('Bersihin Kebun')">
    <img src="https://cdn-icons-png.flaticon.com/512/7665/7665231.png" alt="Bersihin Kebun">
    <span>Bersihin Kebun</span>
  </div>

  <div class="menu-card" onclick="bukaForm('Tambal Ban')">
    <img src="https://cdn-icons-png.flaticon.com/512/2972/2972048.png" alt="Tambal Ban">
    <span>Tambal Ban</span>
  </div>

  <div class="menu-card" onclick="bukaForm('Tukang')">
    <img src="https://cdn-icons-png.flaticon.com/512/3063/3063833.png" alt="Tukang">
    <span>Tukang</span>
  </div>
</div>

<!-- FORM POPUP -->
<div class="modal fade" id="formModal" tabindex="-1" aria-labelledby="formModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header bg-success text-white">
        <h5 class="modal-title">Form Pesanan</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <form id="orderForm">
          <div class="mb-3">
            <label class="form-label">Nama:</label>
            <input type="text" id="nama" class="form-control" placeholder="Masukkan nama kamu" required>
          </div>

          <div class="mb-3">
            <label class="form-label">Jasa yang dipilih:</label>
            <input type="text" id="jasa" class="form-control" readonly>
          </div>

          <div class="mb-3">
            <label class="form-label">Titik Jemput:</label>
            <button type="button" class="btn btn-outline-primary w-100" onclick="ambilLokasi()">üìç Set Lokasi Saya</button>
            <div id="map"></div>
          </div>

          <div class="mb-3">
            <label class="form-label">Alamat Tujuan:</label>
            <textarea id="tujuan" class="form-control" placeholder="Masukkan alamat tujuan..." required></textarea>
          </div>

          <div class="mb-3">
            <label class="form-label">Metode Bayar:</label>
            <select id="bayar" class="form-select">
              <option value="CASH DRIVER">CASH DRIVER</option>
              <option value="TRANSFER">TRANSFER</option>
              <option value="QRIS">QRIS</option>
            </select>
          </div>

          <button type="button" class="btn btn-order" onclick="kirimPesanan()">KIRIM PESANAN</button>
        </form>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
  let map, marker, lat, lon;

  function bukaForm(jasa) {
    document.getElementById('jasa').value = jasa;
    new bootstrap.Modal(document.getElementById('formModal')).show();
  }

  function ambilLokasi() {
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(function(pos) {
        lat = pos.coords.latitude;
        lon = pos.coords.longitude;
        initMap(lat, lon);
      }, function() {
        alert("Gagal mendapatkan lokasi. Aktifkan GPS Anda.");
      });
    } else {
      alert("Browser tidak mendukung GPS.");
    }
  }

  function initMap(lat, lon) {
    const lokasi = { lat: lat, lng: lon };
    if (!map) {
      map = new google.maps.Map(document.getElementById("map"), {
        zoom: 15,
        center: lokasi,
      });
      marker = new google.maps.Marker({
        position: lokasi,
        map: map,
        title: "Lokasi Anda",
      });
    } else {
      map.setCenter(lokasi);
      marker.setPosition(lokasi);
    }
  }

  function kirimPesanan() {
    const nama = document.getElementById('nama').value;
    const jasa = document.getElementById('jasa').value;
    const tujuan = document.getElementById('tujuan').value;
    const bayar = document.getElementById('bayar').value;

    if (!nama || !tujuan || !jasa) {
      alert("Lengkapi semua data sebelum mengirim!");
      return;
    }

    const urlMaps = lat && lon ? `https://www.google.com/maps?q=${lat},${lon}` : "Lokasi tidak diketahui";
    const pesan = `Halo, saya ${nama}%0ASaya ingin pesan jasa *${jasa}*%0ATitik Jemput: ${urlMaps}%0AAlamat Tujuan: ${tujuan}%0AMetode Bayar: ${bayar}`;
    window.open(`https://wa.me/6289531332329?text=${pesan}`, "_blank");
  }
</script>

<!-- Google Maps API -->
<script async src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBqylF-fake-key-demo"></script>
</body>
</html>
